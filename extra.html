<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JS | Aula II</title>
    <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.12.0/css/all.css" integrity="sha384-ekOryaXPbeCpWQNxMwSWVvQ0+1VrStoPJq54shlYhR8HzQgig1v5fas6YgOqLoKz" crossorigin="anonymous">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <link rel="stylesheet" href="./assets/css/style.css">
</head>

<body>
    <header>
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
            <a class="navbar-brand" href="./index.html">JS | AULA II</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#menuContent" aria-controls="menuContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="menuContent">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="./index.html">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="./dom.html">DOM</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="./js-e-css.html">JS e CSS</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="./eventos-js.html">Eventos</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="./timing-events.html">Timing Events</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="./prevent-default.html">preventDefault()</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="./validacao-de-formulario.html">Validação de Formulário</a>
                    </li>
                </ul>
            </div>
        </nav>
    </header>
<main class="container">
    <section class="row py-5">
        <header class="col-12 p-3 mx-auto mb-4 row">
            <h1 class="col-12 text-center mb-5">Validação de Formulário</h1>
            <img class="col-12 col-lg-6 mx-auto rounded" src="./assets/img/validacao-formulario.png" alt="Eventos de Tempo" width="100%" height="auto">
            <article class="col-12 col-lg-6 mx-auto">
                <h2 class="col-12 mb-3">Como validar um form?</h2>
                <p class="col-12">Chegou a hora da gente aplicar tudo o que vimos até o momento em uma prática mais 'real'. Usando eventos, manipulação do DOM, aplicação de estilos, seletores, condicionais, etc..</p>
                <p class="col-12">Vamos incrementar e validar um formulário HTML (mas sem validações HTML5). Já há uma base pronta para a gente poder focar no que interessa. Então vamos pra cima!</p>
            </article>
        </header>
        <article class="col-12 mx-auto my-4">
            <h2 class="col-12">Prática 24 | Fetch API</h2>
            <ul class="col-12 py-3">
                <li class="my-5">
                    <h5>by Carlão</h5>
                    <p class="mt-3">Consulta Cidade via UF selecionada</p>
                    <div class="bg-light p-5">
                        <form id="meuForm" method="post" action="">
                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    <label for="nome">Nome</label>
                                    <input type="text" class="form-control" id="nome" name="nome" placeholder="Fulano">
                                </div>
                                <div class="form-group col-md-6">
                                    <label for="sobrenome">Sobrenome</label>
                                    <input type="text" class="form-control" id="sobrenome" name="sobrenome" placeholder="da Silva">
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    <label for="email">Email</label>
                                    <input type="text" class="form-control" id="email" name="email" placeholder="exemplo@email.com">
                                    <small id="emailError" class="d-none text-danger">Por favor, confira o email inserido</small>
                                </div>
                                <div class="form-group col-md-6">
                                    <label for="emailConfirm">Confirmação de email</label>
                                    <input type="text" class="form-control" id="emailConfirm" name="emailConfirm" placeholder="exemplo@email.com">
                                    <small id="emailConfirmError" class="d-none text-danger">Atenção, os emails inseridos não coincidem</small>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    <label for="senha">Senha</label>
                                    <input type="text" class="form-control" id="senha" name="senha" placeholder="*****" aria-describedby="senhaHelp">
                                    <small id="passwordHelpInline" class="text-muted">
                                        [<span id="senha6chars">Tem mais de 5 caracteres e não tem espaço</span> |
                                        <span id="senhaAlphaNum">Tem números, maiúsculas e minúsculas</span>]
                                    </small>
                                </div>
                                <div class="form-group col-md-6">
                                    <label for="senhaConfirm">Confirmação de Senha</label>
                                    <input type="text" class="form-control" id="senhaConfirm" name="senhaConfirm" placeholder="*****" aria-describedby="senhaConfirmHelp">
                                    <small id="senhaConfirmError" class="d-none text-danger">
                                        <span>Atenção: essa senha não coincide com a anterior</span>
                                    </small>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group col-md-3">
                                    <label for="cep">CEP</label>
                                    <input type="text" class="form-control" id="cep" name="cep">
                                </div>
                                <div class="form-group col-md-6">
                                    <label for="city">Cidade</label>
                                    <select id="city" name="city" class="form-control">
                                        <option disabled selected value="">Cidade</option>
                                    </select>
                                </div>
                                <div class="form-group col-md-3">
                                    <label for="uf">UF</label>
                                    <select id="uf" name="uf" class="form-control" onblur="getCities(this.value)">
                                        <option disabled selected value="">UF</option>
                                    </select>
                                </div>
                            </div>
                            <button type="submit" class="btn btn-primary" id="btnEnviar">Enviar</button>
                        </form>
                    </div>
                </li>
            </ul>
            <p class="mt-3">Confiram o arquivo <a href="https://github.com/Marcelo-Diament/tn01-js-aula-02/blob/master/README.md" target="_blank" rel="noopener noreferrer" title="Veja o arquivo readme.md">README.md</a> do repositório para verem maiores informações.</p>
        </article>
    </section>
    <footer class="col-12 row mb-3">
        <a href="./prevent-default.html" class="w-25 btn btn-dark d-inline-block mr-auto mt-4 mb-3" id="voltarBtn"><i class="fas fa-chevron-left"></i> <b class="ml-4">Voltar</b></a>
        <a href="./index.html" class="w-25 btn btn-dark d-inline-block ml-auto mt-4 mb-3" id="avancarBtn"><b>Início</b> <i class="fas fa-chevron-right"></i></a>
    </footer>
</main>
<script>
    console.log('carregou script')
    let ufs = ['AC', 'AL', 'AM', 'AP', 'BA', 'CE', 'DF', 'ES', 'GO', 'MA', 'MG', 'MS', 'MT', 'PA', 'PB', 'PE', 'PI', 'PR', 'RJ', 'RN', 'RO', 'RR', 'RS', 'SC', 'SE', 'SP', 'TO']
    let estados = document.querySelector('#uf')
    const popularUfs = () => {
        console.log('teste')
        for (let uf of ufs) {
            console.log(uf)
            estados.innerHTML += `<option value="${uf}">${uf}</option>`
        }
    }
    popularUfs()

    function getCities(valor) {
        const citySelect = document.querySelector("select[name=city]");
        const url = `https://servicodados.ibge.gov.br/api/v1/localidades/estados/${valor}/municipios`;
        citySelect.innerHTML = `
            <label for="city">Cidade</label>
            <select id="city" name="city" class="form-control">
                <option disabled selected value="">Cidade</option>
            </select>
        `
        fetch(url)
            .then(response => response.json())
            .then(cities => {
                for (city of cities) {
                    citySelect.innerHTML += `<option value="${city.nome}">${city.nome}</option>`;
                }
                citySelect.disabled = false

            })
    }
</script>
<footer class="container-fluid bg-dark">
    <div class="row">
        <p class="col-12 text-white text-center p-3">JS | AULA II</p>
    </div>
</footer>
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
<script src="./assets/js/script.js"></script>
</body>

</html>